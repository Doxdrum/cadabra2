<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>Cadabra: client_server/ComputeThread.hh Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="DoxygenStyle.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Cadabra
   </div>
   <div id="projectbrief">Computer algebra system for field theory problems</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Properties</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(12)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(13)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_d20ad0b8de644c123692ba5582cc7a7b.html">client_server</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">ComputeThread.hh</div>  </div>
</div><!--header-->
<div class="contents">
<a href="ComputeThread_8hh.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="preprocessor">#pragma once</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="preprocessor">#include &lt;websocketpp/config/asio_no_tls_client.hpp&gt;</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="preprocessor">#include &lt;websocketpp/client.hpp&gt;</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="preprocessor">#include &lt;websocketpp/common/thread.hpp&gt;</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="preprocessor">#include &lt;websocketpp/common/functional.hpp&gt;</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="preprocessor">#include &lt;thread&gt;</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;</div>
<div class="line"><a name="l00010"></a><span class="lineno"><a class="line" href="ComputeThread_8hh.html#a954a13b64191d97550b93df2fd33d460">   10</a></span>&#160;<span class="keyword">typedef</span> websocketpp::client&lt;websocketpp::config::asio_client&gt; <a class="code" href="ComputeThread_8hh.html#a954a13b64191d97550b93df2fd33d460">WSClient</a>;</div>
<div class="line"><a name="l00011"></a><span class="lineno"><a class="line" href="ComputeThread_8hh.html#a8d7da57f57aec5c532259ba0b3fc7a78">   11</a></span>&#160;<span class="keyword">typedef</span> websocketpp::config::asio_client::message_type::ptr <a class="code" href="ComputeThread_8hh.html#a8d7da57f57aec5c532259ba0b3fc7a78">message_ptr</a>;</div>
<div class="line"><a name="l00012"></a><span class="lineno"><a class="line" href="ComputeThread_8hh.html#a13d767522c849c5a0d907574d8eb2d5f">   12</a></span>&#160;<span class="keyword">typedef</span> websocketpp::lib::lock_guard&lt;websocketpp::lib::mutex&gt; <a class="code" href="ComputeThread_8hh.html#a13d767522c849c5a0d907574d8eb2d5f">scoped_lock</a>;</div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;</div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DataCell_8hh.html">DataCell.hh</a>&quot;</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;</div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="keyword">namespace </span>cadabra {</div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;    </div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;    <span class="keyword">class </span>GUIBase;</div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;    <span class="keyword">class </span>DocumentThread;</div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;    </div>
<div class="line"><a name="l00033"></a><span class="lineno"><a class="line" href="classcadabra_1_1ComputeThread.html">   33</a></span>&#160;    <span class="keyword">class </span><a class="code" href="classcadabra_1_1ComputeThread.html">ComputeThread</a> {</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;        <span class="keyword">public</span>:</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;            </div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;            <a class="code" href="classcadabra_1_1ComputeThread.html#aa7970ca2c8b8eed7bad826d0c75af71e">ComputeThread</a>();</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;            <a class="code" href="classcadabra_1_1ComputeThread.html#aa7970ca2c8b8eed7bad826d0c75af71e">ComputeThread</a>(<span class="keyword">const</span> <a class="code" href="classcadabra_1_1ComputeThread.html">ComputeThread</a>&amp; )=<span class="keyword">delete</span>; <span class="comment">// You cannot copy this object</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;            <a class="code" href="classcadabra_1_1ComputeThread.html#a209ed31618d3640f174a4126c6cbf8e5">~ComputeThread</a>();</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;            <span class="keywordtype">void</span> <a class="code" href="classcadabra_1_1ComputeThread.html#ad2aa5f14e7f01d4cdc7fbc39a131a821">set_master</a>(<a class="code" href="classcadabra_1_1GUIBase.html">GUIBase</a> *, <a class="code" href="classcadabra_1_1DocumentThread.html">DocumentThread</a> *);</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;            </div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;            <span class="keywordtype">void</span> <a class="code" href="classcadabra_1_1ComputeThread.html#a3ca24710ea632e3efd59a585b8c6e404">run</a>(); </div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;            </div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;            <span class="keywordtype">void</span> <a class="code" href="classcadabra_1_1ComputeThread.html#a04abcacb1305898419c2777436d51520">execute_cell</a>(DTree::iterator);</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;            <span class="keywordtype">void</span> <a class="code" href="classcadabra_1_1ComputeThread.html#a1f9b3142f007febb505218be83751201">stop</a>();</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;            <span class="keywordtype">void</span> <a class="code" href="classcadabra_1_1ComputeThread.html#a765f00b5776dcffff98443c28bfafb75">restart_kernel</a>();</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;            <span class="comment">// Determine if there are still cells running on the server.</span></div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;            <span class="comment">// FIXME: this does not guarantee thread-safety but at the moment</span></div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;            <span class="comment">// is only used for updating status bars etc.</span></div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;            <span class="comment">// FIXME: can be moved to DocumentThread.</span></div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;            <span class="keywordtype">int</span> <a class="code" href="classcadabra_1_1ComputeThread.html#a569e63c9e8a88a4c7e4555f1cb0e90ca">number_of_cells_executing</a>(<span class="keywordtype">void</span>) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;            <span class="keywordtype">void</span> <a class="code" href="classcadabra_1_1ComputeThread.html#a8a3d3abd3bcdf44564758a3913efb995">terminate</a>();</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;            </div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;        <span class="keyword">private</span>:</div>
<div class="line"><a name="l00088"></a><span class="lineno"><a class="line" href="classcadabra_1_1ComputeThread.html#aa7b3af2f59b272a71fc092bccb201cee">   88</a></span>&#160;            <a class="code" href="classcadabra_1_1GUIBase.html">GUIBase</a>        *<a class="code" href="classcadabra_1_1ComputeThread.html#aa7b3af2f59b272a71fc092bccb201cee">gui</a>;</div>
<div class="line"><a name="l00089"></a><span class="lineno"><a class="line" href="classcadabra_1_1ComputeThread.html#abf80de911bd63523b3a49473084f417e">   89</a></span>&#160;            <a class="code" href="classcadabra_1_1DocumentThread.html">DocumentThread</a> *<a class="code" href="classcadabra_1_1ComputeThread.html#abf80de911bd63523b3a49473084f417e">docthread</a>;</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;            <span class="comment">// For debugging purposes, we keep record of the gui thread id,</span></div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;            <span class="comment">// so that we can flag when code runs on the wrong thread.</span></div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;            <span class="comment">// Gets initialised in the ComputeThread constructor.</span></div>
<div class="line"><a name="l00094"></a><span class="lineno"><a class="line" href="classcadabra_1_1ComputeThread.html#a2be0a78247610d267c7c75f82e12ff32">   94</a></span>&#160;            std::thread::id  <a class="code" href="classcadabra_1_1ComputeThread.html#a2be0a78247610d267c7c75f82e12ff32">gui_thread_id</a>; </div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;            <span class="comment">// Keeping track of cells which are running on the server, in</span></div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;            <span class="comment">// a form which allows us to look them up quickly based only</span></div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;            <span class="comment">// on the id (which is all that the server knows about). </span></div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;</div>
<div class="line"><a name="l00100"></a><span class="lineno"><a class="line" href="classcadabra_1_1ComputeThread.html#ab28adc355af224d1545f187cffb28594">  100</a></span>&#160;            std::map&lt;DataCell::id_t, DTree::iterator&gt; <a class="code" href="classcadabra_1_1ComputeThread.html#ab28adc355af224d1545f187cffb28594">running_cells</a>;</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;            <span class="comment">// WebSocket++ things.</span></div>
<div class="line"><a name="l00103"></a><span class="lineno"><a class="line" href="classcadabra_1_1ComputeThread.html#ab34e81c19720b1352777d42f2671d94d">  103</a></span>&#160;            <a class="code" href="ComputeThread_8hh.html#a954a13b64191d97550b93df2fd33d460">WSClient</a> <a class="code" href="classcadabra_1_1ComputeThread.html#ab34e81c19720b1352777d42f2671d94d">wsclient</a>;</div>
<div class="line"><a name="l00104"></a><span class="lineno"><a class="line" href="classcadabra_1_1ComputeThread.html#a7fb3fbb68e1aa23cd8af885061cb1fee">  104</a></span>&#160;            <span class="keywordtype">bool</span>     <a class="code" href="classcadabra_1_1ComputeThread.html#a7bf08ea8778841f0ddc38f69ae66c5b7">connection_is_open</a>, <a class="code" href="classcadabra_1_1ComputeThread.html#a7fb3fbb68e1aa23cd8af885061cb1fee">restarting_kernel</a>;</div>
<div class="line"><a name="l00105"></a><span class="lineno"><a class="line" href="classcadabra_1_1ComputeThread.html#a290bd753f88b0835daeaf8afecaa7d47">  105</a></span>&#160;            WSClient::connection_ptr    <a class="code" href="classcadabra_1_1ComputeThread.html#a290bd753f88b0835daeaf8afecaa7d47">connection</a>;</div>
<div class="line"><a name="l00106"></a><span class="lineno"><a class="line" href="classcadabra_1_1ComputeThread.html#a9b21b5ab520016925de6889039172144">  106</a></span>&#160;            websocketpp::connection_hdl <a class="code" href="classcadabra_1_1ComputeThread.html#a9b21b5ab520016925de6889039172144">our_connection_hdl</a>;</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;            <span class="keywordtype">void</span> <a class="code" href="classcadabra_1_1ComputeThread.html#a1a404f7a41f16795657e6920fc4fdae8">init</a>();</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;            <span class="keywordtype">void</span> <a class="code" href="classcadabra_1_1ComputeThread.html#a1cf53419113eda82cef2d37df123d449">try_connect</a>();</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;            <span class="keywordtype">void</span> <a class="code" href="classcadabra_1_1ComputeThread.html#aa1f12a8edc08047e91a63f93bfac7086">try_spawn_server</a>();</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;            <span class="keywordtype">void</span> <a class="code" href="classcadabra_1_1ComputeThread.html#a8e05d5a6e807d5f87cf57e93b6064f68">on_open</a>(websocketpp::connection_hdl hdl);</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;            <span class="keywordtype">void</span> <a class="code" href="classcadabra_1_1ComputeThread.html#af955445218198edee74fc12199c379d5">on_fail</a>(websocketpp::connection_hdl hdl);</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;            <span class="keywordtype">void</span> <a class="code" href="classcadabra_1_1ComputeThread.html#a8bfa19cc284e0ca57632270f5f93d976">on_close</a>(websocketpp::connection_hdl hdl);</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;            <span class="keywordtype">void</span> <a class="code" href="classcadabra_1_1ComputeThread.html#a9c87e64b595dccdacc4dde28660f2187">on_message</a>(websocketpp::connection_hdl hdl, <a class="code" href="ComputeThread_8hh.html#a8d7da57f57aec5c532259ba0b3fc7a78">message_ptr</a> msg);</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;            DTree::iterator <a class="code" href="classcadabra_1_1ComputeThread.html#aa8a01997c2f427ef7908a4a4f65491ca">find_cell_by_id</a>(<a class="code" href="classcadabra_1_1DataCell_1_1id__t.html">DataCell::id_t</a>, <span class="keywordtype">bool</span> <span class="keyword">remove</span>);</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;            </div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;            <span class="keywordtype">void</span> <a class="code" href="classcadabra_1_1ComputeThread.html#acd23922c0b8e15be80d69005aa515b92">all_cells_nonrunning</a>();</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;            <span class="comment">// Self-started server</span></div>
<div class="line"><a name="l00123"></a><span class="lineno"><a class="line" href="classcadabra_1_1ComputeThread.html#a29eb28ae72421f8dd4f2802d26b123ce">  123</a></span>&#160;            pid_t           <a class="code" href="classcadabra_1_1ComputeThread.html#a29eb28ae72421f8dd4f2802d26b123ce">server_pid</a>;</div>
<div class="line"><a name="l00124"></a><span class="lineno"><a class="line" href="classcadabra_1_1ComputeThread.html#aabcdbc94dbfb9d1eb3ce64e892f253c6">  124</a></span>&#160;            FILE           *<a class="code" href="classcadabra_1_1ComputeThread.html#aabcdbc94dbfb9d1eb3ce64e892f253c6">server_stdout</a>;</div>
<div class="line"><a name="l00125"></a><span class="lineno"><a class="line" href="classcadabra_1_1ComputeThread.html#afdda71b345863d965a6c09477522574a">  125</a></span>&#160;            <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>  <a class="code" href="classcadabra_1_1ComputeThread.html#afdda71b345863d965a6c09477522574a">port</a>;</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    };</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;}</div>
<div class="ttc" id="classcadabra_1_1ComputeThread_html_af955445218198edee74fc12199c379d5"><div class="ttname"><a href="classcadabra_1_1ComputeThread.html#af955445218198edee74fc12199c379d5">cadabra::ComputeThread::on_fail</a></div><div class="ttdeci">void on_fail(websocketpp::connection_hdl hdl)</div><div class="ttdef"><b>Definition:</b> ComputeThread.cc:121</div></div>
<div class="ttc" id="classcadabra_1_1DocumentThread_html"><div class="ttname"><a href="classcadabra_1_1DocumentThread.html">cadabra::DocumentThread</a></div><div class="ttdoc">Base class which manipulates the document tree. </div><div class="ttdef"><b>Definition:</b> DocumentThread.hh:30</div></div>
<div class="ttc" id="classcadabra_1_1ComputeThread_html_a8e05d5a6e807d5f87cf57e93b6064f68"><div class="ttname"><a href="classcadabra_1_1ComputeThread.html#a8e05d5a6e807d5f87cf57e93b6064f68">cadabra::ComputeThread::on_open</a></div><div class="ttdeci">void on_open(websocketpp::connection_hdl hdl)</div><div class="ttdef"><b>Definition:</b> ComputeThread.cc:154</div></div>
<div class="ttc" id="classcadabra_1_1ComputeThread_html_aa8a01997c2f427ef7908a4a4f65491ca"><div class="ttname"><a href="classcadabra_1_1ComputeThread.html#aa8a01997c2f427ef7908a4a4f65491ca">cadabra::ComputeThread::find_cell_by_id</a></div><div class="ttdeci">DTree::iterator find_cell_by_id(DataCell::id_t, bool remove)</div><div class="ttdef"><b>Definition:</b> ComputeThread.cc:194</div></div>
<div class="ttc" id="ComputeThread_8hh_html_a8d7da57f57aec5c532259ba0b3fc7a78"><div class="ttname"><a href="ComputeThread_8hh.html#a8d7da57f57aec5c532259ba0b3fc7a78">message_ptr</a></div><div class="ttdeci">websocketpp::config::asio_client::message_type::ptr message_ptr</div><div class="ttdef"><b>Definition:</b> ComputeThread.hh:11</div></div>
<div class="ttc" id="classcadabra_1_1ComputeThread_html_a8a3d3abd3bcdf44564758a3913efb995"><div class="ttname"><a href="classcadabra_1_1ComputeThread.html#a8a3d3abd3bcdf44564758a3913efb995">cadabra::ComputeThread::terminate</a></div><div class="ttdeci">void terminate()</div><div class="ttdoc">Terminate the compute thread, in preparation for shutting down the client altogether. </div><div class="ttdef"><b>Definition:</b> ComputeThread.cc:93</div></div>
<div class="ttc" id="classcadabra_1_1ComputeThread_html_aa7b3af2f59b272a71fc092bccb201cee"><div class="ttname"><a href="classcadabra_1_1ComputeThread.html#aa7b3af2f59b272a71fc092bccb201cee">cadabra::ComputeThread::gui</a></div><div class="ttdeci">GUIBase * gui</div><div class="ttdef"><b>Definition:</b> ComputeThread.hh:88</div></div>
<div class="ttc" id="classcadabra_1_1ComputeThread_html_aa1f12a8edc08047e91a63f93bfac7086"><div class="ttname"><a href="classcadabra_1_1ComputeThread.html#aa1f12a8edc08047e91a63f93bfac7086">cadabra::ComputeThread::try_spawn_server</a></div><div class="ttdeci">void try_spawn_server()</div><div class="ttdef"><b>Definition:</b> ComputeThread.cc:136</div></div>
<div class="ttc" id="classcadabra_1_1ComputeThread_html_abf80de911bd63523b3a49473084f417e"><div class="ttname"><a href="classcadabra_1_1ComputeThread.html#abf80de911bd63523b3a49473084f417e">cadabra::ComputeThread::docthread</a></div><div class="ttdeci">DocumentThread * docthread</div><div class="ttdef"><b>Definition:</b> ComputeThread.hh:89</div></div>
<div class="ttc" id="ComputeThread_8hh_html_a954a13b64191d97550b93df2fd33d460"><div class="ttname"><a href="ComputeThread_8hh.html#a954a13b64191d97550b93df2fd33d460">WSClient</a></div><div class="ttdeci">websocketpp::client&lt; websocketpp::config::asio_client &gt; WSClient</div><div class="ttdef"><b>Definition:</b> ComputeThread.hh:10</div></div>
<div class="ttc" id="classcadabra_1_1ComputeThread_html_a8bfa19cc284e0ca57632270f5f93d976"><div class="ttname"><a href="classcadabra_1_1ComputeThread.html#a8bfa19cc284e0ca57632270f5f93d976">cadabra::ComputeThread::on_close</a></div><div class="ttdeci">void on_close(websocketpp::connection_hdl hdl)</div><div class="ttdef"><b>Definition:</b> ComputeThread.cc:181</div></div>
<div class="ttc" id="classcadabra_1_1ComputeThread_html_a765f00b5776dcffff98443c28bfafb75"><div class="ttname"><a href="classcadabra_1_1ComputeThread.html#a765f00b5776dcffff98443c28bfafb75">cadabra::ComputeThread::restart_kernel</a></div><div class="ttdeci">void restart_kernel()</div><div class="ttdoc">Restart the kernel. </div><div class="ttdef"><b>Definition:</b> ComputeThread.cc:420</div></div>
<div class="ttc" id="classcadabra_1_1DataCell_1_1id__t_html"><div class="ttname"><a href="classcadabra_1_1DataCell_1_1id__t.html">cadabra::DataCell::id_t</a></div><div class="ttdoc">Each cell is identified by a serial number &#39;id&#39; which is used to keep track of it across network call...</div><div class="ttdef"><b>Definition:</b> DataCell.hh:50</div></div>
<div class="ttc" id="classcadabra_1_1ComputeThread_html_acd23922c0b8e15be80d69005aa515b92"><div class="ttname"><a href="classcadabra_1_1ComputeThread.html#acd23922c0b8e15be80d69005aa515b92">cadabra::ComputeThread::all_cells_nonrunning</a></div><div class="ttdeci">void all_cells_nonrunning()</div><div class="ttdoc">Set all cells to be non-running (e.g. </div><div class="ttdef"><b>Definition:</b> ComputeThread.cc:109</div></div>
<div class="ttc" id="classcadabra_1_1ComputeThread_html_a1a404f7a41f16795657e6920fc4fdae8"><div class="ttname"><a href="classcadabra_1_1ComputeThread.html#a1a404f7a41f16795657e6920fc4fdae8">cadabra::ComputeThread::init</a></div><div class="ttdeci">void init()</div><div class="ttdef"><b>Definition:</b> ComputeThread.cc:34</div></div>
<div class="ttc" id="classcadabra_1_1ComputeThread_html_a2be0a78247610d267c7c75f82e12ff32"><div class="ttname"><a href="classcadabra_1_1ComputeThread.html#a2be0a78247610d267c7c75f82e12ff32">cadabra::ComputeThread::gui_thread_id</a></div><div class="ttdeci">std::thread::id gui_thread_id</div><div class="ttdef"><b>Definition:</b> ComputeThread.hh:94</div></div>
<div class="ttc" id="classcadabra_1_1GUIBase_html"><div class="ttname"><a href="classcadabra_1_1GUIBase.html">cadabra::GUIBase</a></div><div class="ttdoc">Abstract base class with methods that need to be implemented by any GUI. </div><div class="ttdef"><b>Definition:</b> GUIBase.hh:16</div></div>
<div class="ttc" id="classcadabra_1_1ComputeThread_html_a29eb28ae72421f8dd4f2802d26b123ce"><div class="ttname"><a href="classcadabra_1_1ComputeThread.html#a29eb28ae72421f8dd4f2802d26b123ce">cadabra::ComputeThread::server_pid</a></div><div class="ttdeci">pid_t server_pid</div><div class="ttdef"><b>Definition:</b> ComputeThread.hh:123</div></div>
<div class="ttc" id="ComputeThread_8hh_html_a13d767522c849c5a0d907574d8eb2d5f"><div class="ttname"><a href="ComputeThread_8hh.html#a13d767522c849c5a0d907574d8eb2d5f">scoped_lock</a></div><div class="ttdeci">websocketpp::lib::lock_guard&lt; websocketpp::lib::mutex &gt; scoped_lock</div><div class="ttdef"><b>Definition:</b> ComputeThread.hh:12</div></div>
<div class="ttc" id="classcadabra_1_1ComputeThread_html_a1cf53419113eda82cef2d37df123d449"><div class="ttname"><a href="classcadabra_1_1ComputeThread.html#a1cf53419113eda82cef2d37df123d449">cadabra::ComputeThread::try_connect</a></div><div class="ttdeci">void try_connect()</div><div class="ttdef"><b>Definition:</b> ComputeThread.cc:42</div></div>
<div class="ttc" id="classcadabra_1_1ComputeThread_html_aabcdbc94dbfb9d1eb3ce64e892f253c6"><div class="ttname"><a href="classcadabra_1_1ComputeThread.html#aabcdbc94dbfb9d1eb3ce64e892f253c6">cadabra::ComputeThread::server_stdout</a></div><div class="ttdeci">FILE * server_stdout</div><div class="ttdef"><b>Definition:</b> ComputeThread.hh:124</div></div>
<div class="ttc" id="classcadabra_1_1ComputeThread_html_a9c87e64b595dccdacc4dde28660f2187"><div class="ttname"><a href="classcadabra_1_1ComputeThread.html#a9c87e64b595dccdacc4dde28660f2187">cadabra::ComputeThread::on_message</a></div><div class="ttdeci">void on_message(websocketpp::connection_hdl hdl, message_ptr msg)</div><div class="ttdef"><b>Definition:</b> ComputeThread.cc:207</div></div>
<div class="ttc" id="classcadabra_1_1ComputeThread_html_a04abcacb1305898419c2777436d51520"><div class="ttname"><a href="classcadabra_1_1ComputeThread.html#a04abcacb1305898419c2777436d51520">cadabra::ComputeThread::execute_cell</a></div><div class="ttdeci">void execute_cell(DTree::iterator)</div><div class="ttdoc">In order to execute code on the server, call the following from the GUI thread. </div><div class="ttdef"><b>Definition:</b> ComputeThread.cc:335</div></div>
<div class="ttc" id="classcadabra_1_1ComputeThread_html_ad2aa5f14e7f01d4cdc7fbc39a131a821"><div class="ttname"><a href="classcadabra_1_1ComputeThread.html#ad2aa5f14e7f01d4cdc7fbc39a131a821">cadabra::ComputeThread::set_master</a></div><div class="ttdeci">void set_master(GUIBase *, DocumentThread *)</div><div class="ttdoc">Determine the objects that this compute thread should be talking to. </div><div class="ttdef"><b>Definition:</b> ComputeThread.cc:28</div></div>
<div class="ttc" id="classcadabra_1_1ComputeThread_html_ab34e81c19720b1352777d42f2671d94d"><div class="ttname"><a href="classcadabra_1_1ComputeThread.html#ab34e81c19720b1352777d42f2671d94d">cadabra::ComputeThread::wsclient</a></div><div class="ttdeci">WSClient wsclient</div><div class="ttdef"><b>Definition:</b> ComputeThread.hh:103</div></div>
<div class="ttc" id="classcadabra_1_1ComputeThread_html_a1f9b3142f007febb505218be83751201"><div class="ttname"><a href="classcadabra_1_1ComputeThread.html#a1f9b3142f007febb505218be83751201">cadabra::ComputeThread::stop</a></div><div class="ttdeci">void stop()</div><div class="ttdoc">Stop the current cell execution on the server and remove all other cells from the run queue as well...</div><div class="ttdef"><b>Definition:</b> ComputeThread.cc:401</div></div>
<div class="ttc" id="classcadabra_1_1ComputeThread_html_ab28adc355af224d1545f187cffb28594"><div class="ttname"><a href="classcadabra_1_1ComputeThread.html#ab28adc355af224d1545f187cffb28594">cadabra::ComputeThread::running_cells</a></div><div class="ttdeci">std::map&lt; DataCell::id_t, DTree::iterator &gt; running_cells</div><div class="ttdef"><b>Definition:</b> ComputeThread.hh:100</div></div>
<div class="ttc" id="classcadabra_1_1ComputeThread_html_a209ed31618d3640f174a4126c6cbf8e5"><div class="ttname"><a href="classcadabra_1_1ComputeThread.html#a209ed31618d3640f174a4126c6cbf8e5">cadabra::ComputeThread::~ComputeThread</a></div><div class="ttdeci">~ComputeThread()</div><div class="ttdef"><b>Definition:</b> ComputeThread.cc:24</div></div>
<div class="ttc" id="classcadabra_1_1ComputeThread_html_a569e63c9e8a88a4c7e4555f1cb0e90ca"><div class="ttname"><a href="classcadabra_1_1ComputeThread.html#a569e63c9e8a88a4c7e4555f1cb0e90ca">cadabra::ComputeThread::number_of_cells_executing</a></div><div class="ttdeci">int number_of_cells_executing(void) const </div><div class="ttdef"><b>Definition:</b> ComputeThread.cc:396</div></div>
<div class="ttc" id="classcadabra_1_1ComputeThread_html_a7fb3fbb68e1aa23cd8af885061cb1fee"><div class="ttname"><a href="classcadabra_1_1ComputeThread.html#a7fb3fbb68e1aa23cd8af885061cb1fee">cadabra::ComputeThread::restarting_kernel</a></div><div class="ttdeci">bool restarting_kernel</div><div class="ttdef"><b>Definition:</b> ComputeThread.hh:104</div></div>
<div class="ttc" id="classcadabra_1_1ComputeThread_html_a290bd753f88b0835daeaf8afecaa7d47"><div class="ttname"><a href="classcadabra_1_1ComputeThread.html#a290bd753f88b0835daeaf8afecaa7d47">cadabra::ComputeThread::connection</a></div><div class="ttdeci">WSClient::connection_ptr connection</div><div class="ttdef"><b>Definition:</b> ComputeThread.hh:105</div></div>
<div class="ttc" id="classcadabra_1_1ComputeThread_html_aa7970ca2c8b8eed7bad826d0c75af71e"><div class="ttname"><a href="classcadabra_1_1ComputeThread.html#aa7970ca2c8b8eed7bad826d0c75af71e">cadabra::ComputeThread::ComputeThread</a></div><div class="ttdeci">ComputeThread()</div><div class="ttdoc">If the ComputeThread is constructed with a null pointer to the gui, there will be no gui updates...</div><div class="ttdef"><b>Definition:</b> ComputeThread.cc:14</div></div>
<div class="ttc" id="classcadabra_1_1ComputeThread_html_a7bf08ea8778841f0ddc38f69ae66c5b7"><div class="ttname"><a href="classcadabra_1_1ComputeThread.html#a7bf08ea8778841f0ddc38f69ae66c5b7">cadabra::ComputeThread::connection_is_open</a></div><div class="ttdeci">bool connection_is_open</div><div class="ttdef"><b>Definition:</b> ComputeThread.hh:104</div></div>
<div class="ttc" id="classcadabra_1_1ComputeThread_html_afdda71b345863d965a6c09477522574a"><div class="ttname"><a href="classcadabra_1_1ComputeThread.html#afdda71b345863d965a6c09477522574a">cadabra::ComputeThread::port</a></div><div class="ttdeci">unsigned short port</div><div class="ttdef"><b>Definition:</b> ComputeThread.hh:125</div></div>
<div class="ttc" id="classcadabra_1_1ComputeThread_html_a3ca24710ea632e3efd59a585b8c6e404"><div class="ttname"><a href="classcadabra_1_1ComputeThread.html#a3ca24710ea632e3efd59a585b8c6e404">cadabra::ComputeThread::run</a></div><div class="ttdeci">void run()</div><div class="ttdoc">Main entry point, which will connect to the server and then start an event loop to handle communicati...</div><div class="ttdef"><b>Definition:</b> ComputeThread.cc:81</div></div>
<div class="ttc" id="DataCell_8hh_html"><div class="ttname"><a href="DataCell_8hh.html">DataCell.hh</a></div></div>
<div class="ttc" id="classcadabra_1_1ComputeThread_html"><div class="ttname"><a href="classcadabra_1_1ComputeThread.html">cadabra::ComputeThread</a></div><div class="ttdoc">Base class which talks to the server and sends Action objects back to the DocumentThread. </div><div class="ttdef"><b>Definition:</b> ComputeThread.hh:33</div></div>
<div class="ttc" id="classcadabra_1_1ComputeThread_html_a9b21b5ab520016925de6889039172144"><div class="ttname"><a href="classcadabra_1_1ComputeThread.html#a9b21b5ab520016925de6889039172144">cadabra::ComputeThread::our_connection_hdl</a></div><div class="ttdeci">websocketpp::connection_hdl our_connection_hdl</div><div class="ttdef"><b>Definition:</b> ComputeThread.hh:106</div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sat Oct 1 2016 20:19:03 for Cadabra by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
